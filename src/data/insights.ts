import type { Insight, InsightType, InsightCategory } from "./types";
import { subHours, subDays, subMinutes } from "date-fns";

/**
 * AI-powered business insights
 * 10+ proactive recommendations and alerts
 */

export const insights: Insight[] = [
  // CRITICAL insights
  {
    id: "insight_001",
    type: "critical",
    category: "inventory",
    title: "Cloudlift Sneakers - Black will stock out in 2 days",
    description: "At current sales velocity (6 units/day), SKU CLS-BLK-10 will be out of stock by Jan 30. Consider emergency reorder or adjusting marketing spend.",
    confidence: 0.92,
    affectedEntity: "Cloudlift Sneakers - Black",
    actionLabel: "View Stock Levels",
    actionUrl: "/inventory",
    createdAt: subHours(new Date(), 3),
  },
  {
    id: "insight_002",
    type: "critical",
    category: "customer",
    title: "VIP customer Marcus Johnson has unresolved urgent ticket",
    description: "Ticket #TKT-4522 regarding duplicate charge has been open for 5 hours and SLA is breached. Customer has $2,400+ lifetime value.",
    confidence: 1.0,
    affectedEntity: "Marcus Johnson",
    actionLabel: "View Ticket",
    actionUrl: "/inbox",
    createdAt: subHours(new Date(), 1),
  },

  // WARNING insights
  {
    id: "insight_003",
    type: "warning",
    category: "revenue",
    title: "Return rate 3x higher for Midnight Runner Hoodie - Charcoal",
    description: "SKU MRH-CHAR-M has a 21% return rate compared to 7% average. Common reason: 'Size runs small'. Consider updating size chart.",
    confidence: 0.87,
    affectedEntity: "Midnight Runner Hoodie - Charcoal",
    actionLabel: "View Returns",
    actionUrl: "/orders",
    createdAt: subDays(new Date(), 1),
  },
  {
    id: "insight_004",
    type: "warning",
    category: "operations",
    title: "Average response time increased 34% this week",
    description: "Current avg response time is 2.4 hours vs 1.8 hours last week. Inbox has 8 unassigned tickets. Consider adding support capacity.",
    confidence: 0.89,
    affectedEntity: "Support Operations",
    actionLabel: "View Inbox",
    actionUrl: "/inbox",
    createdAt: subHours(new Date(), 8),
  },
  {
    id: "insight_005",
    type: "warning",
    category: "inventory",
    title: "Sync error on 3 products for Amazon channel",
    description: "Products haven't synced to Amazon in 24 hours. May cause stock discrepancies and overselling. Check integration health.",
    confidence: 0.94,
    affectedEntity: "Amazon Integration",
    actionLabel: "View Inventory",
    actionUrl: "/inventory",
    createdAt: subHours(new Date(), 12),
  },

  // OPPORTUNITY insights
  {
    id: "insight_006",
    type: "opportunity",
    category: "revenue",
    title: "TikTok orders up 127% this week",
    description: "TikTok channel generated $8,947 this week (vs $3,941 last week). Consider increasing ad spend while momentum is high.",
    confidence: 0.96,
    affectedEntity: "TikTok Channel",
    actionLabel: "View Analytics",
    actionUrl: "/analytics",
    createdAt: subDays(new Date(), 2),
  },
  {
    id: "insight_007",
    type: "opportunity",
    category: "marketing",
    title: "Performance Cap has 89% conversion rate",
    description: "SKU PC-NAVY-001 converts visitors to buyers at 89% (avg is 3.2%). Strong candidate for paid advertising and upsells.",
    confidence: 0.91,
    affectedEntity: "Performance Cap - Navy",
    actionLabel: "View Product",
    actionUrl: "/inventory",
    createdAt: subDays(new Date(), 3),
  },
  {
    id: "insight_008",
    type: "opportunity",
    category: "customer",
    title: "5 customers ready for VIP upgrade",
    description: "Customers with 3+ orders and $500+ spend in last 90 days. Send exclusive offer to increase retention and LTV.",
    confidence: 0.88,
    affectedEntity: "Customer Loyalty",
    actionLabel: "View Customers",
    actionUrl: "/customers",
    createdAt: subDays(new Date(), 4),
  },

  // INFO insights
  {
    id: "insight_009",
    type: "info",
    category: "operations",
    title: "Peak order volume expected this weekend",
    description: "Historical data shows 40% higher order volume on Saturdays. Ensure support team is staffed accordingly.",
    confidence: 0.85,
    affectedEntity: "Operations Planning",
    createdAt: subDays(new Date(), 5),
  },
  {
    id: "insight_010",
    type: "info",
    category: "inventory",
    title: "Seasonal demand shift detected",
    description: "Hoodie and jacket sales increasing while shorts/tanks decreasing. Typical for late January. Consider adjusting stock allocation.",
    confidence: 0.79,
    affectedEntity: "Seasonal Inventory",
    actionLabel: "View Trends",
    actionUrl: "/analytics",
    createdAt: subDays(new Date(), 7),
  },
  {
    id: "insight_011",
    type: "opportunity",
    category: "revenue",
    title: "Bundle opportunity: Sneakers + Performance Socks",
    description: "67% of sneaker buyers purchase socks within 30 days. Create bundle to increase average order value.",
    confidence: 0.83,
    affectedEntity: "Product Bundling",
    createdAt: subDays(new Date(), 8),
  },
  {
    id: "insight_012",
    type: "warning",
    category: "customer",
    title: "Influencer Sophia Patel has pending bulk order inquiry",
    description: "High-value partnership opportunity (50 unit order) waiting in inbox for 45 minutes. Quick response could secure deal.",
    confidence: 0.98,
    affectedEntity: "Sophia Patel",
    actionLabel: "Respond Now",
    actionUrl: "/inbox",
    createdAt: subMinutes(new Date(), 45),
  },
];
